<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>February Hydrogen Safety Connections</title>

<style>
:root{
  --chs-blue:#005e82;
  --bg:#f5f5f5;
  --card:#ffffff;
  --border:#dddddd;
  --yellow:#f6e58d;
  --green:#badc58;
  --blue:#7ed6df;
  --purple:#c7a7ff;
}

body{
  font-family: Arial, sans-serif;
  background: var(--bg);
  margin:0;
  padding:20px;
  text-align:center;
}

.wrap{ max-width:760px; margin:auto; }

h1{ color:var(--chs-blue); margin-bottom:6px; }

.sub{ font-size:14px; color:#555; margin-top:0; }

.meta{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  justify-content:center;
  margin:10px 0 18px;
}

.pill{
  padding:6px 10px;
  border:1px solid var(--border);
  border-radius:999px;
  background:#fafafa;
  font-size:12px;
}

.grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:12px;
  margin-top:10px;
}

.tile{
  background:var(--card);
  border:2px solid var(--border);
  border-radius:8px;
  padding:14px;
  cursor:pointer;
  user-select:none;
  min-height:60px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
}

.tile.selected{ background:#bfe2f0; border-color:var(--chs-blue); }

.tile.solved{ font-weight:bold; cursor:default; }

.solved.yellow{ background:var(--yellow); }
.solved.green{ background:var(--green); }
.solved.blue{ background:var(--blue); }
.solved.purple{ background:var(--purple); }

button{
  margin:10px 6px 0;
  padding:10px 16px;
  background:var(--chs-blue);
  color:white;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

button.secondary{ background:#666; }

button:disabled{ background:#ccc; cursor:default; }

.message{ margin-top:14px; min-height:22px; }

.answers{
  display:none;
  margin-top:18px;
  background:white;
  border:1px solid var(--border);
  border-radius:10px;
  padding:14px;
  text-align:left;
}
.answers h3{ margin-top:0; color:var(--chs-blue); }
</style>
</head>

<body>
<div class="wrap">

<h1>February Hydrogen Safety Connections</h1>
<p class="sub">Group the 16 tiles into 4 related hydrogen safety categories.</p>

<div class="meta">
  <div class="pill">‚è± Time: <strong id="timer">00:00</strong></div>
  <div class="pill">‚úÖ Groups solved: <strong id="solvedCount">0</strong>/4</div>
</div>

<button id="submitBtn" disabled>Submit</button>
<button id="shuffleBtn" class="secondary">Shuffle</button>
<button id="revealBtn" class="secondary">Reveal Answers</button>

<div class="grid" id="grid"></div>

<div class="message" id="message"></div>

<div class="answers" id="answers">
<h3>Solution</h3>
<p><strong>üü® Codes & Standards</strong><br>
NFPA 2 ‚Ä¢ ISO 19880 ‚Ä¢ CGA G-5.5 ‚Ä¢ ASME B31.12</p>

<p><strong>üü© Fueling Station Components</strong><br>
Dispenser ‚Ä¢ Breakaway Coupling ‚Ä¢ Nozzle ‚Ä¢ Cascade Storage</p>

<p><strong>üü¶ Emergency Response Concepts</strong><br>
Isolation Distance ‚Ä¢ Gas Monitoring ‚Ä¢ Evacuation Plan ‚Ä¢ Incident Command</p>

<p><strong>üü™ Hydrogen Physical Properties</strong><br>
Wide Flammability Range ‚Ä¢ Low Ignition Energy ‚Ä¢ High Diffusivity ‚Ä¢ Buoyant Gas</p>
</div>

</div>

<script>
const TERMS = [
"NFPA 2","ISO 19880","CGA G-5.5","ASME B31.12",
"Dispenser","Breakaway Coupling","Nozzle","Cascade Storage",
"Isolation Distance","Gas Monitoring","Evacuation Plan","Incident Command",
"Wide Flammability Range","Low Ignition Energy","High Diffusivity","Buoyant Gas"
];

const GROUPS = [
{ name:"Codes & Standards", items:["NFPA 2","ISO 19880","CGA G-5.5","ASME B31.12"] },
{ name:"Fueling Station Components", items:["Dispenser","Breakaway Coupling","Nozzle","Cascade Storage"] },
{ name:"Emergency Response Concepts", items:["Isolation Distance","Gas Monitoring","Evacuation Plan","Incident Command"] },
{ name:"Hydrogen Physical Properties", items:["Wide Flammability Range","Low Ignition Energy","High Diffusivity","Buoyant Gas"] }
];

const COLORS=["yellow","green","blue","purple"];

let groups=[];
let selected=[];
let solvedCount=0;
let solvedMap=new Map();

let startTime=null;
let timerInterval=null;

const grid=document.getElementById("grid");
const submitBtn=document.getElementById("submitBtn");
const shuffleBtn=document.getElementById("shuffleBtn");
const revealBtn=document.getElementById("revealBtn");
const message=document.getElementById("message");
const timerEl=document.getElementById("timer");
const solvedCountEl=document.getElementById("solvedCount");
const answers=document.getElementById("answers");

function shuffle(arr){
let a=arr.slice();
for(let i=a.length-1;i>0;i--){
let j=Math.floor(Math.random()*(i+1));
[a[i],a[j]]=[a[j],a[i]];
}
return a;
}

function startTimer(){
if(startTime) return;
startTime=Date.now();
timerInterval=setInterval(()=>{
let diff=Math.floor((Date.now()-startTime)/1000);
let mm=String(Math.floor(diff/60)).padStart(2,"0");
let ss=String(diff%60).padStart(2,"0");
timerEl.textContent=`${mm}:${ss}`;
},500);
}

function build(){
grid.innerHTML="";
selected=[];
submitBtn.disabled=true;
message.textContent="";
groups=GROUPS.map(g=>({name:g.name,items:g.items.slice()}));

let shuffled=shuffle(TERMS);
shuffled.forEach(term=>{
let div=document.createElement("div");
div.className="tile";
div.textContent=term;

if(solvedMap.has(term)){
div.classList.add("solved",solvedMap.get(term));
}

div.onclick=()=>{
if(div.classList.contains("solved")) return;
startTimer();
if(selected.includes(term)){
selected=selected.filter(t=>t!==term);
div.classList.remove("selected");
}else if(selected.length<4){
selected.push(term);
div.classList.add("selected");
}
submitBtn.disabled=(selected.length!==4);
};

grid.appendChild(div);
});
}

submitBtn.onclick=()=>{
let matchIndex=groups.findIndex(g=>g.items.every(i=>selected.includes(i)));

if(matchIndex!==-1){
let color=COLORS[solvedCount];
groups[matchIndex].items.forEach(t=>solvedMap.set(t,color));
groups.splice(matchIndex,1);
solvedCount++;
solvedCountEl.textContent=solvedCount;
message.textContent="‚úÖ Correct!";
}else{
let near=groups.find(g=>g.items.filter(i=>selected.includes(i)).length===3);
message.textContent=near?"üü® One away!":"‚ùå Try again.";
}

selected=[];
submitBtn.disabled=true;
build();

if(solvedCount===4){
clearInterval(timerInterval);
message.textContent="üéâ All groups solved!";
}
};

shuffleBtn.onclick=()=>build();

revealBtn.onclick=()=>{
answers.style.display="block";
clearInterval(timerInterval);
};

build();
</script>

</body>
</html>
